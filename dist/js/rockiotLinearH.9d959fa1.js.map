{"version":3,"sources":["webpack:///./src/plugins/rockiot.gauge.js","webpack:///./src/components/rockiot.linear.horizontal.svg.vue?91b2","webpack:///src/components/rockiot.linear.horizontal.svg.vue","webpack:///./src/components/rockiot.linear.horizontal.svg.vue?6527","webpack:///./src/components/rockiot.linear.horizontal.svg.vue"],"names":["Math","PI","setSVGAttributes","elmt","oAtt","prop","setAttributeNS","render","_vm","this","_h","$createElement","_c","_self","ref","$attrs","serial","class","size","attrs","svgheight","svgwidth","staticClass","style","offsetX","max","factor","barHeight","offsetY","pos","animate","needleColor","staticRenderFns","component"],"mappings":"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","file":"js/rockiotLinearH.9d959fa1.js","sourcesContent":["/* eslint-disable */\nvar NS = \"http://www.w3.org/2000/svg\";\nvar rad = Math.PI / 180;\n\nfunction clearRect(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n}\n\nexport function setSVGAttributes(elmt, oAtt) {\n    for (var prop in oAtt) {\n      elmt.setAttributeNS(null, prop, oAtt[prop]);\n    }\n}\n\nfunction updateGauge(svg){\n    svg.x = svg.cx + svg.r1 * Math.cos(svg.pa * rad);\n    svg.y = svg.cy + svg.r1 * Math.sin(svg.pa * rad);\n    drawNeedle(svg.cx,svg.cy,svg.r1)\n}\n\nexport function drawNeedle(svg) {\n    let a = Math.atan2(svg.cy-svg.y, svg.cx-svg.x) / rad - 180\n    if ( !! parseInt(svg.hasneedle) ){\n        var nx1 = svg.cx + 5 * Math.cos((a - 90) * rad);\n        var ny1 = svg.cy + 5 * Math.sin((a - 90) * rad);\n    \n        var nx2 = svg.cx + (svg.r1 + 15) * Math.cos(a * rad);\n        var ny2 = svg.cy + (svg.r1 + 15) * Math.sin(a * rad);\n    \n        var nx3 = svg.cx + 5 * Math.cos((a + 90) * rad);\n        var ny3 = svg.cy + 5 * Math.sin((a + 90) * rad);\n    \n        var points = nx1 + \",\" + ny1 + \" \" + nx2 + \",\" + ny2 + \" \" + nx3 + \",\" + ny3;\n        svg.needle.setAttributeNS(null, \"points\", points);\n    }\n}\nexport function drawScale(svg) {\n    \n    if ( !! parseInt(svg.hasscale) ){\n        let sr1 = svg.r1 + 5;\n        let sr2 = svg.r2 - 5;\n        let srT = svg.r1 + 20;\n        //var scale = document.querySelector(\".scale-\" + svg.id);\n        clearRect(svg.scale)//svg.scale)\n        var fs = parseInt(180/svg.ticks)\n        var n = 0;\n        for (var sa = -180; sa <= 0; sa += fs) {\n            var sx1 = svg.cx + sr1 * Math.cos(sa * rad);\n            var sy1 = svg.cy + sr1 * Math.sin(sa * rad);\n            var sx2 = svg.cx + sr2 * Math.cos(sa * rad);\n            var sy2 = svg.cy + sr2 * Math.sin(sa * rad);\n            var sxT = svg.cx + srT * Math.cos(sa * rad);\n            var syT = svg.cy + srT * Math.sin(sa * rad);\n        \n            var scaleLine = document.createElementNS(NS, \"line\");\n            var scaleLineObj = {\n                class: \"scale\",\n                x1: sx1,\n                y1: sy1,\n                x2: sx2,\n                y2: sy2\n            };\n            setSVGAttributes(scaleLine, scaleLineObj);\n        \n            svg.scale.appendChild(scaleLine);\n            var mg = 0\n            if ( n === 0 || n === 10){\n                mg = 4\n            }\n            var scaleText = document.createElementNS(NS, \"text\");\n            var scaleTextObj = {\n                class: \"scale\",\n                x: sxT,\n                y: syT,\n            };\n            setSVGAttributes(scaleText, scaleTextObj);\n            var tick = (parseInt(svg.max)-parseInt(svg.min))/svg.ticks;\n            scaleText.textContent = parseInt(n * (tick)) + (parseInt(svg.min));\n            svg.scale.appendChild(scaleText);\n            n++\n        }\n    }\n  }\n\n  \n\n  export function Animation(options) {\n    var duration = options.duration,\n        currentIteration = 1,\n        iterations = 60 * duration,\n        start = options.start || 0,\n        end = options.end,\n        change = end - start,\n        step = options.step,\n        easing = options.easing || function easeInOutCubic(pos) {\n          // https://github.com/danro/easing-js/blob/master/easing.js\n          if ((pos/=0.5) < 1) return 0.5*Math.pow(pos,3);\n          return 0.5 * (Math.pow((pos-2),3) + 2);\n        };\n\n    function animate() {\n      var progress = currentIteration / iterations, \n          value = change * easing(progress) + start;\n      // console.log(progress + \", \" + value);\n      step(value, currentIteration);\n      currentIteration += 1;\n\n      if(progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    }\n    // start!\n    requestAnimationFrame(animate);\n  }\n\n ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:_vm.$attrs.serial,class:'typeRange rockiot-gauge rockiot-gauge-' + _vm.$attrs.size,attrs:{\"height\":_vm.svgheight,\"width\":_vm.svgwidth,\"view-box\":'0 0 ' + _vm.svgwidth + ' ' + _vm.svgheight,\"id\":_vm.$attrs.serial}},[_c('g',{ref:'scale-' + _vm.$attrs.serial,staticClass:\"scale\",style:(_vm.scaleStyle),attrs:{\"stroke\":\"red\"}}),_c('rect',{staticClass:\"outline\",style:(_vm.outlineStyle),attrs:{\"id\":'outline-' + _vm.$attrs.serial,\"x\":_vm.offsetX,\"width\":_vm.$attrs.max*_vm.factor,\"height\":_vm.barHeight,\"y\":_vm.offsetY-_vm.barHeight}}),_c('rect',{staticClass:\"fill\",style:(_vm.fillStyle),attrs:{\"id\":'fill-' + _vm.$attrs.serial,\"x\":_vm.offsetX,\"width\":_vm.pos,\"height\":_vm.barHeight,\"y\":_vm.offsetY-_vm.barHeight}}),_c('rect',{staticClass:\"needle\",style:(_vm.animate('x')),attrs:{\"id\":'needle-' + _vm.$attrs.serial,\"width\":\"1\",\"x\":this.pos + this.offsetX,\"y\":_vm.offsetY-_vm.barHeight-5,\"height\":_vm.barHeight+10,\"fill\":_vm.$attrs.needleColor}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n        <svg :class=\"'typeRange rockiot-gauge rockiot-gauge-' + $attrs.size\" :height=\"svgheight\" :width=\"svgwidth\" :view-box=\"'0 0 ' + svgwidth + ' ' + svgheight\" :ref=\"$attrs.serial\" :id=\"$attrs.serial\">\n            \n            <g class=\"scale\" :ref=\"'scale-' + $attrs.serial\" stroke=\"red\" :style=\"scaleStyle\"></g>\n\n            <rect class=\"outline\" :id=\"'outline-' + $attrs.serial\" :style=\"outlineStyle\" \n                :x=\"offsetX\" \n                :width=\"$attrs.max*factor\" \n                :height=\"barHeight\" \n                :y=\"offsetY-barHeight\"/>\n                \n            <rect class=\"fill\" :style=\"fillStyle\" :id=\"'fill-' + $attrs.serial\" \n                :x=\"offsetX\" \n                :width=\"pos\" \n                :height=\"barHeight\" \n                :y=\"offsetY-barHeight\">\n            </rect>\n\n            <rect :id=\"'needle-' + $attrs.serial\" class=\"needle\" :style=\"animate('x')\" width=\"1\" \n                :x=\"this.pos + this.offsetX\" \n                :y=\"offsetY-barHeight-5\" \n                :height=\"barHeight+10\" :fill=\"$attrs.needleColor\"/>\n        </svg> \n</template>\n\n<script>\nimport { setSVGAttributes } from '@/plugins/rockiot.gauge.js'\n//import 'snapsvg-cjs'\n\n/* eslint-disable */\nexport default {\n    name: 'RockiotSvgLinearH',\n    data:()=>({\n        svgwidth:370,\n        svgheight:90,\n        offsetX: 20,\n        offsetY: 60,\n        barHeight: 20,\n        scaleY: 0,\n        factor: 3.5,\n        svg: null,\n        scaleX: 90,\n        offsetText: 10,\n        pos: 0,\n        snapObject: null,\n        aniPos:[0,0],\n        oldValue: 0,\n    }),\n    computed:{\n        scaleStyle(){\n            return 'stroke:' + this.$attrs.scaleColor + ';'\n        },\n        scaleTextColor(){\n            return 'fill:' + this.$attrs.scaleTextColor + ';'\n        },\n        outlineStyle(){\n            return 'fill:' + this.$attrs.barColor +';stroke:' + this.$attrs.barBorderColor + ';'\n        },\n        fillStyle(){\n            return 'fill:' + this.$attrs.progressColor + ';stroke:transparent;' + this.animate('width')\n        },\n    },\n    watch:{\n        '$attrs.barColor'(v){\n            this.fillStyle()\n        }, \n        '$attrs.value'(v){\n\n            this.pos = parseInt(v)*this.factor\n            this.aniPos[0] = this.oldValue\n            this.aniPos[1] = this.pos\n            this.oldValue = this.pos\n            //this.updateGauge()\n        },\n        \n    },\n    methods:{\n        animate(attr){\n            if ( this.$attrs.animation ) {\n                return 'transition: ' + attr + ' ' + parseFloat(this.$attrs.animation/1000) + 's linear;'\n            }\n            return ''\n        },\n        updateGauge(){\n            /*\n            this.snapObject.select('#fill-' + this.$attrs.serial).animate({\n                x : this.offsetX,\n                width : this.pos,\n                height : this.barHeight,\n                y : this.offsetY-this.barHeight\n                } , parseInt(this.$attrs.animation) , mina.linear )\n            this.snapObject.select('#needle-' + this.$attrs.serial).animate({\n                x : this.pos + this.offsetX\n                }, parseInt(this.$attrs.animation), mina.linear )\n                */\n        },\n        gaugeSize(){\n            switch(this.$attrs.size){\n                case 'md':\n                    this.offsetX = 20\n                    this.offsetY = 70\n                    this.barHeight = 25\n                    this.scaleY = -15\n                    break\n                case 'sm':\n                    this.offsetX = 20\n                    this.offsetY = 70\n                    this.barHeight = 10\n                    this.scaleY = 0\n                    break\n                case 'lg':\n                    this.offsetX = 20\n                    this.offsetY = 70\n                    this.barHeight = 40\n                    this.scaleY = -30\n                    break\n                default:\n                    this.offsetX = 20\n                    this.offsetY = 70\n                    this.barHeight = 25\n                    this.scaleY = -15\n                    break\n            }\n            \n        },\n        createScale(){\n            var NS = \"http://www.w3.org/2000/svg\";\n            var width = parseInt(this.svgwidth) - this.offsetX - this.offsetX\n            var fs =  width / parseInt(this.$attrs.ticks) / 10\n            var n = 0;\n            var txt = 0\n            for (var sa = 0; n <= parseInt(this.$attrs.ticks)*10 ; sa += fs) {\n                var scaleLine = document.createElementNS(NS, \"line\");\n                var h = 5\n                if ( !! parseInt(this.$attrs.smallscale) ){\n                    if ( n % 10 != 0 && n > 0 ){\n                        \n                        h = 0\n                    }\n                }\n                var scaleLineObj = {\n                    class: \"scale\",\n                    style: this.scaleStyle,\n                    x1: sa + this.offsetX,\n                    y1: this.offsetY ,\n                    x2: sa + this.offsetX,\n                    y2: this.offsetY -20 - h + this.scaleY\n                };\n                setSVGAttributes(scaleLine, scaleLineObj);\n                this.svg.scale.appendChild(scaleLine);\n                \n                if ( n % 10 === 0 || n === 0 ){\n\n                    var mg = 0\n                    if ( n === 0 || n === parseInt(this.$attrs.ticks)){\n                        mg = 4\n                    }\n                    var scaleText = document.createElementNS(NS, \"text\");\n                    var scaleTextObj = {\n                        \"class\": \"scaleNumbersLinear\",\n                        stroke: 'transparent',\n                        style: this.scaleTextColor,\n                        x: sa + this.offsetX, \n                        y: this.offsetY - 30 + this.scaleY,\n                    }\n                    setSVGAttributes(scaleText, scaleTextObj)\n                    var tick = (parseInt(this.$attrs.max)-parseInt(this.$attrs.min))/parseInt(this.$attrs.ticks)\n                    txt = parseInt(this.$attrs.min)+(n*tick)\n\n                    \n                        scaleText.textContent = parseInt(txt)/10 //parseInt(n * (tick)) + (parseInt(this.$attrs.min))\n                        this.svg.scale.appendChild(scaleText);\n                        \n                }\n                n++\n            }\n        },\n    },\n    mounted(){\n        let id = this.$attrs.serial\n       if ( this.$attrs.variation === 'linear' && this.$attrs.svgwidth > this.$attrs.svgheight ){\n            this.svgwidth = this.$attrs.svgwidth\n            this.svgheight = this.$attrs.svgheight\n        }\n        if ( this.$attrs.svgwidth > this.$attrs.svgheight ){\n            this.svgwidth = this.$attrs.svgheight\n            this.svgheight = this.$attrs.svgwidth\n        }\n        var width = parseInt(this.svgwidth) - ( this.offsetX*2 )\n        this.svg = this.$refs[id]\n        this.svg.scale = this.$refs['scale-' + id]\n        this.factor = width / parseInt(this.$attrs.max )\n        \n        //this.snapObject = Snap(this.svg)\n        if ( parseInt(this.$attrs.value) > parseInt(this.$attrs.max) ){\n            this.$attrs.value = this.$attrs.max\n        }\n        this.pos = parseInt(this.$attrs.value) * this.factor\n        //this.updateGauge()\n        this.gaugeSize()\n        if ( !! parseInt(this.$attrs.scale) ){\n            this.createScale()\n        }\n        this.aniPos[1] = this.$attrs.value*this.factor\n    }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rockiot.linear.horizontal.svg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rockiot.linear.horizontal.svg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rockiot.linear.horizontal.svg.vue?vue&type=template&id=145325c6&scoped=true&\"\nimport script from \"./rockiot.linear.horizontal.svg.vue?vue&type=script&lang=js&\"\nexport * from \"./rockiot.linear.horizontal.svg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"145325c6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}